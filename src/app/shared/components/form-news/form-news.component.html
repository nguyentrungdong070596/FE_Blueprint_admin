<div class="content">
  <div class="add-container">
    <h2 *ngIf="!isEditMode">ThÃªm Má»›i</h2>
    <h2 *ngIf="isEditMode">Chá»‰nh Sá»­a</h2>
    <form [formGroup]="form">
      <!-- TÃªn dá»‹ch vá»¥ -->
      <div class="form-group" *ngIf="showField('title')">
        <label
          for="title"
          [ngClass]="{
            'color-form-red':
              !isEditMode &&
              form.get('title')?.invalid &&
              (form.get('title')?.dirty || form.get('title')?.touched)
          }"
          >TiÃªu Ä‘á»</label
        >
        <input
          type="text"
          id="title"
          formControlName="title"
          class="form-control"
          required
        />
        <small
          *ngIf="
            !isEditMode &&
            form.get('title')?.invalid &&
            (form.get('title')?.dirty || form.get('title')?.touched)
          "
          [ngClass]="{ 'color-form-red': form.get('title')?.invalid }"
        >
          Vui lÃ²ng nháº­p tÃªn dá»‹ch vá»¥
        </small>
      </div>

      <!-- TÃªn tiÃªu Ä‘á» phá»¥ -->
      <div class="form-group" *ngIf="showField('subtitle')">
        <label
          for="subtitle"
          [ngClass]="{
            'color-form-red':
              !isEditMode &&
              form.get('subtitle')?.invalid &&
              (form.get('subtitle')?.dirty || form.get('subtitle')?.touched)
          }"
          >TiÃªu Ä‘á» Phá»¥</label
        >
        <input
          type="text"
          id="subtitle"
          formControlName="subtitle"
          class="form-control"
          required
        />
        <small
          *ngIf="
            !isEditMode &&
            form.get('subtitle')?.invalid &&
            (form.get('subtitle')?.dirty || form.get('subtitle')?.touched)
          "
          [ngClass]="{ 'color-form-red': form.get('subtitle')?.invalid }"
        >
          Vui lÃ²ng nháº­p tÃªn tiÃªu Ä‘á» phá»¥ (subtitle)
        </small>
      </div>

      <!-- HÃ¬nh áº£nh -->
      <div class="form-group" *ngIf="showField('image')">
        <label
          for="file"
          [ngClass]="{
            'color-form-red':
              !isEditMode &&
              form.get('image')?.invalid &&
              (form.get('image')?.dirty || form.get('image')?.touched)
          }"
          >HÃ¬nh áº£nh:</label
        >
        <input
          type="file"
          id="image"
          (change)="onFileSelected($event)"
          accept="image/*"
        />
        <small
          *ngIf="
            !isEditMode &&
            form.get('image')?.invalid &&
            (form.get('image')?.dirty || form.get('image')?.touched)
          "
          [ngClass]="{ 'color-form-red': form.get('image')?.invalid }"
        >
          Vui lÃ²ng táº£i hÃ¬nh áº£nh.
        </small>
      </div>

      <!-- Preview HÃ¬nh áº¢nh -->
      <div *ngIf="preview_upload && showField('image')">
        <img [src]="preview_upload" alt="Selected Image" width="300" />
      </div>

      <!-- Ná»™i dung -->
      <div class="form-group" *ngIf="showField('content')">
        <label for="content">Ná»™i dung:</label>
        <!-- <quill-editor formControlName="content"></quill-editor> -->

        <div class="NgxEditor__Wrapper">
          <ngx-editor-menu [editor]="editor" [toolbar]="customToolbar">
          </ngx-editor-menu>

          <!-- NÃºt upload áº£nh -->
          <button type="button" (click)="fileInput.click()">ğŸ–¼ Chá»n áº£nh</button>
          <input
            type="file"
            #fileInput
            style="display: none"
            accept="image/*"
            (change)="onFileNGX_EDITORSelected($event)"
          />

          <ngx-editor
            [editor]="editor"
            formControlName="content"
            [placeholder]="'Type here...'"
          ></ngx-editor>
        </div>

        <small
          *ngIf="
            !isEditMode &&
            form.get('content')?.invalid &&
            (form.get('content')?.dirty || form.get('content')?.touched)
          "
          [ngClass]="{ 'color-form-red': form.get('content')?.invalid }"
        >
          Vui lÃ²ng nháº­p ná»™i dung.
        </small>
      </div>

      <!-- Táº£i lÃªn dá»¯ liá»‡u -->
      <div class="form-group" *ngIf="showField('pdfurl')">
        <label
          for="pdfurl"
          [ngClass]="{
            'color-form-red':
              !isEditMode &&
              form.get('pdfurl')?.invalid &&
              (form.get('pdfurl')?.dirty || form.get('pdfurl')?.touched)
          }"
          >Táº£i lÃªn dá»¯ liá»‡u:</label
        >
        <input
          type="file"
          id="pdfurl"
          (change)="onFilePDFSelected($event)"
          accept=".pdf"
          class="form-control"
        />
        <small
          *ngIf="
            !isEditMode &&
            form.get('pdfurl')?.invalid &&
            (form.get('pdfurl')?.dirty || form.get('pdfurl')?.touched)
          "
          [ngClass]="{ 'color-form-red': form.get('pdfurl')?.invalid }"
        >
          Vui lÃ²ng táº£i dá»¯ liá»‡u.
        </small>
      </div>

      <!-- NgÃ y Ä‘Äƒng -->
      <div class="form-group" *ngIf="showField('postdate')">
        <label
          for="postdate"
          [ngClass]="{
            'color-form-red':
              !isEditMode &&
              form.get('postdate')?.invalid &&
              (form.get('postdate')?.dirty || form.get('postdate')?.touched)
          }"
          >NgÃ y Ä‘Äƒng:</label
        >
        <input
          type="date"
          id="postdate"
          class="form-control"
          formControlName="postdate"
        />
        <small
          *ngIf="
            !isEditMode &&
            form.get('postdate')?.invalid &&
            (form.get('postdate')?.dirty || form.get('postdate')?.touched)
          "
          [ngClass]="{ 'color-form-red': form.get('postdate')?.invalid }"
        >
          Vui lÃ²ng chá»n ngÃ y Ä‘Äƒng.
        </small>
      </div>

      <!-- Tráº¡ng thÃ¡i -->
      <div *ngIf="isEditMode && showField('status')" class="form-group">
        <label
          for="status"
          [ngClass]="{
            'color-form-red':
              form.get('status')?.invalid &&
              (form.get('status')?.dirty || form.get('status')?.touched)
          }"
          >Tráº¡ng thÃ¡i</label
        >
        <select
          id="status"
          formControlName="status"
          class="form-control"
          required
        >
          <option [ngValue]="true">Hiá»ƒn thá»‹</option>
          <option [ngValue]="false">áº¨n</option>
        </select>
        <small
          *ngIf="
            form.get('status')?.invalid &&
            (form.get('status')?.dirty || form.get('status')?.touched)
          "
          [ngClass]="{ 'color-form-red': form.get('status')?.invalid }"
        >
          Vui lÃ²ng chá»n tráº¡ng thÃ¡i.
        </small>
      </div>

      <!-- ENLISH -->
      <div class="form-group" *ngIf="showField('title_en')">
        <label
          for="title_en"
          [ngClass]="{
            'color-form-red':
              !isEditMode &&
              form.get('title_en')?.invalid &&
              (form.get('title_en')?.dirty || form.get('title_en')?.touched)
          }"
          >TiÃªu Ä‘á» (EN)</label
        >
        <input
          type="text"
          id="title_en"
          formControlName="title_en"
          class="form-control"
          required
        />
        <small
          *ngIf="
            !isEditMode &&
            form.get('title_en')?.invalid &&
            (form.get('title_en')?.dirty || form.get('title_en')?.touched)
          "
          [ngClass]="{ 'color-form-red': form.get('title_en')?.invalid }"
        >
          Vui lÃ²ng nháº­p tÃªn dá»‹ch vá»¥
        </small>
      </div>

      <!-- TÃªn tiÃªu Ä‘á» phá»¥ -->
      <div class="form-group" *ngIf="showField('subtitle')">
        <label
          for="subtitle_en"
          [ngClass]="{
            'color-form-red':
              !isEditMode &&
              form.get('subtitle_en')?.invalid &&
              (form.get('subtitle_en')?.dirty ||
                form.get('subtitle_en')?.touched)
          }"
          >TiÃªu Ä‘á» Phá»¥ (EN)</label
        >
        <input
          type="text"
          id="subtitle_en"
          formControlName="subtitle_en"
          class="form-control"
          required
        />
        <small
          *ngIf="
            !isEditMode &&
            form.get('subtitle_en')?.invalid &&
            (form.get('subtitle_en')?.dirty || form.get('subtitle_en')?.touched)
          "
          [ngClass]="{ 'color-form-red': form.get('subtitle_en')?.invalid }"
        >
          Vui lÃ²ng nháº­p tÃªn tiÃªu Ä‘á» phá»¥ (subtitle_en)
        </small>
      </div>

      <!-- Ná»™i dung en -->
      <div class="form-group" *ngIf="showField('content_en')">
        <label for="content_en">Ná»™i dung (EN):</label>
        <!-- <quill-editor formControlName="content_en"></quill-editor> -->
        <div class="NgxEditor__Wrapper">
          <ngx-editor-menu [editor]="editor_en" [toolbar]="customToolbar_en">
          </ngx-editor-menu>

          <!-- NÃºt upload áº£nh -->
          <button type="button" (click)="fileInput_en.click()">
            ğŸ–¼ Chá»n áº£nh
          </button>
          <input
            type="file"
            #fileInput_en
            style="display: none"
            accept="image/*"
            (change)="onFileNGX_EDITORSelected_En($event)"
          />

          <ngx-editor
            [editor]="editor_en"
            formControlName="content_en"
            [placeholder]="'Type here...'"
          ></ngx-editor>
        </div>
        <small
          *ngIf="
            !isEditMode &&
            form.get('content_en')?.invalid &&
            (form.get('content_en')?.dirty || form.get('content_en')?.touched)
          "
          [ngClass]="{ 'color-form-red': form.get('content_en')?.invalid }"
        >
          Vui lÃ²ng nháº­p ná»™i dung EN.
        </small>
      </div>

      <!-- NÃºt hÃ nh Ä‘á»™ng -->
      <div class="bt-actions">
        <button
          pButton
          pRipple
          [label]="isEditMode ? 'Cáº­p nháº­t' : 'ThÃªm má»›i'"
          (click)="onSubmit(form.value)"
          class="p-button-success"
        ></button>
      </div>
    </form>
  </div>
</div>
